<%
	if (curKnowlegedDoc.ChildExists("knowledge_parts") && ArrayCount(curKnowlegedDoc.knowledge_parts)> 0 )
	{
%>

			<table width="100%"  border="0" cellspacing="0" cellpadding="0">
			<tr>
				<td class="tableHeaderTextLeft"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderText" colspan="3"><p class="tableHeaderTextInner"><%=tools_web.get_web_str("vkpb_knowledge_parts_title")%></p></td>
				<td class="tableHeaderTextRight"><img src="pics/1blank.gif" width="0" height="0" /></td>
			</tr>
			<tr>
				<td class="tableHeaderWithTextLeft"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderWithText"><%=tools_web.get_web_str("vkpb_part")%></td>
				<td class="tableHeaderWithText"><%=tools_web.get_web_str("c_desc")%></td>
				<td class="tableHeaderWithText"><%=tools_web.get_web_str("vkpb_classifier")%></td>
				<td class="tableHeaderWithTextRight"><img src="pics/1blank.gif" width="0" height="0" /></td>
			</tr>
			<tr>
				<td class="tableHeaderNoTextLeft"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderNoText" width="40%"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderNoText" width="40%"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderNoText" width="20%"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableHeaderNoTextRight"><img src="pics/1blank.gif" width="0" height="0" /></td>
			</tr>
<%				
			counter = 0;
			for ( _knowledge_part in curKnowlegedDoc.knowledge_parts)
			{
				if (_knowledge_part.require_acknowledgement)
					continue;
				
				if ( global_settings.settings.check_access_on_lists )
					try
					{
						if ( tools_web.check_access( OpenDoc( UrlFromDocID ( _knowledge_part.PrimaryKey ) ).TopElem, curUserID, curUser, Session ) == false )
							continue;
					}
					catch(_opa_)
					{
						continue;
					}
				

				_class = counter++ % 2 ? 'tableRowEven' : 'tableRowOdd';
				_classl = counter++ % 2 ? 'tableRowEvenLeft' : 'tableRowOddLeft';		
				_classr = counter++ % 2 ? 'tableRowEvenRight' : 'tableRowOddRight';
%>
				<tr>
					<td class="<%=_classl%>"></td>					
					<td class="<%=_class%>">
						<a href="view_doc.html?mode=knowledge_part&object_id=<%=_knowledge_part.PrimaryKey%>&doc_id=<%=curDocID%>"><%
							try
							{
								Response.Write(_knowledge_part.PrimaryKey.ForeignElem.name);
							}
							catch(_opa_)
							{
								Response.Write(tools_web.get_web_str("c_deleted"));
							}
						%></a></td>
					</td>
					<td class="<%=_class%>"><%=_knowledge_part.desc%></td>
					<td class="<%=_class%>">
				<%
					try
					{
						Response.Write(_knowledge_part.PrimaryKey.ForeignElem.knowledge_classifier_id.ForeignElem.name);
					}
					catch(_ne_klassifi_)
					{
						Response.Write(tools_web.get_web_str("vkpb_not_classified"));
					}
				%>
					</td>
					<td class="<%=_classr%>"></td>
				</tr>
<%
			}
%>
			<tr>
				<td class="tableFooterLeft"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableFooter" colspan="3"><img src="pics/1blank.gif" width="0" height="0" /></td>
				<td class="tableFooterRight"><img src="pics/1blank.gif" width="0" height="0" /></td>
			</tr>
		</table>
		


<%
	}
%>